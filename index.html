<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PTSC/THRI Crew Dashboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">

<!-- jsPDF & AutoTable -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<script>
  // make jsPDF available globally for our app.js
  window.jsPDF = window.jspdf.jsPDF;
</script>

</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
  <h2>PTSC/THRI Crew Dept</h2>
  <a href="#" onclick="showTab('dashboard')"><i class="fa fa-home"></i> Dashboard</a>
  <a href="#" onclick="showTab('crew-join')"><i class="fa fa-ship"></i> Crew Joining</a>
  <a href="#" onclick="showTab('crew-arrivals')"><i class="fa fa-plane-arrival"></i> Crew Arrivals</a>
  <a href="#" onclick="showTab('daily-updates')"><i class="fa fa-clipboard"></i> Daily Updates</a>
  <a href="#" onclick="showTab('memo')"><i class="fa fa-sticky-note"></i> Memo</a>
  <a href="#" onclick="showTab('training')"><i class="fa fa-chalkboard-teacher"></i> Training</a>
  <a href="#" onclick="showTab('pni')"><i class="fa fa-calendar"></i> P& I / Events</a>
  <a href="#" onclick="showTab('chat')"><i class="fa fa-comments"></i> Chatboard</a>

  <hr style="border-color:white;">

  <a class="external-link" target="_blank" href="https://flightaware.com/">FlightAware</a>
  <a class="external-link" target="_blank" href="https://www.msn.com/en-ph/news">MSN News PH</a>
  <a class="external-link" target="_blank" href="https://zoom.earth/">ZOOM Earth</a>
  <a class="external-link" target="_blank" href="https://marina.gov.ph/">MARINA</a>
  <a class="external-link" target="_blank" href="https://dmw.gov.ph/">DMW</a>
  <a class="external-link" target="_blank" href="https://owwa.gov.ph/">OWWA</a>
</div>

<!-- Main content -->
<div class="main-content">
  <!-- DASHBOARD -->
  <div id="dashboard" class="tab-window">
    <h4>Dashboard Overview</h4>
    <div class="row g-3">
      <div class="col-md-4"><div class="dash-card"><h5><i class="fa fa-ship"></i> Crew Joining</h5><div id="dash-join" class="card-body"></div><button class="btn btn-sm btn-primary mt-2" onclick="showTab('crew-join')">View</button></div></div>
      <div class="col-md-4"><div class="dash-card"><h5><i class="fa fa-plane-arrival"></i> Arrivals</h5><div id="dash-arrivals" class="card-body"></div><button class="btn btn-sm btn-primary mt-2" onclick="showTab('crew-arrivals')">View</button></div></div>
      <div class="col-md-4"><div class="dash-card"><h5><i class="fa fa-clipboard"></i> Daily Updates</h5><div id="dash-updates" class="card-body"></div><button class="btn btn-sm btn-primary mt-2" onclick="showTab('daily-updates')">View</button></div></div>
      <div class="col-md-4"><div class="dash-card"><h5><i class="fa fa-sticky-note"></i> Memo</h5><div id="dash-memo" class="card-body"></div><button class="btn btn-sm btn-primary mt-2" onclick="showTab('memo')">View</button></div></div>
      <div class="col-md-4"><div class="dash-card"><h5><i class="fa fa-chalkboard-teacher"></i> Training</h5><div id="dash-training" class="card-body"></div><button class="btn btn-sm btn-primary mt-2" onclick="showTab('training')">View</button></div></div>
      <div class="col-md-4"><div class="dash-card"><h5><i class="fa fa-calendar"></i> P&I / Events</h5><div id="dash-pni" class="card-body"></div><button class="btn btn-sm btn-primary mt-2" onclick="showTab('pni')">View</button></div></div>
    </div>

    <hr>
    <div class="d-flex gap-2 align-items-center">
      <label class="mb-0">Monthly Report</label>
      <select id="mf-month" class="form-select form-select-sm" style="width:auto;">
        <option value="">Month</option>
        <option value="1">January</option><option value="2">February</option><option value="3">March</option><option value="4">April</option>
        <option value="5">May</option><option value="6">June</option><option value="7">July</option><option value="8">August</option>
        <option value="9">September</option><option value="10">October</option><option value="11">November</option><option value="12">December</option>
      </select>
      <input id="mf-year" class="form-control form-control-sm" placeholder="Year (e.g. 2025)" style="width:120px;">
      <button class="btn btn-sm btn-outline-primary" onclick="generateMonthlyPDF()">Generate PDF</button>
    </div>
  </div>

  <!-- CREW JOIN -->
  <div id="crew-join" class="tab-window" style="display:none;">
    <h4>Crew Joining</h4>

    <div class="form-box mb-3">
      <h6>Add Crew Joining</h6>
      <div class="row g-2">
        <div class="col-md-3"><input class="form-control" id="vj-vessel" placeholder="Vessel"></div>
        <div class="col-md-3"><input class="form-control" id="vj-principal" placeholder="Principal"></div>
        <div class="col-md-3"><input class="form-control" id="vj-port" placeholder="Port"></div>
        <div class="col-md-3"><input class="form-control" id="vj-crew" placeholder="No. of Crew"></div>
        <div class="col-md-3"><input class="form-control" id="vj-rank" placeholder="Rank"></div>
        <div class="col-md-3"><input type="date" class="form-control" id="vj-date"></div>
        <div class="col-md-3"><input class="form-control" id="vj-flight" placeholder="Flight"></div>
        <div class="col-md-3"><button class="btn btn-success w-100" onclick="addVesselJoin()">ADD</button></div>
      </div>
    </div>

    <div id="crew-join-data">Loading...</div>
  </div>

  <!-- ARRIVALS -->
  <div id="crew-arrivals" class="tab-window" style="display:none;">
    <h4>Crew Arrivals</h4>
    <div class="form-box mb-3">
      <h6>Add Arrival</h6>
      <div class="row g-2">
        <div class="col-md-3"><input class="form-control" id="av-vessel" placeholder="Vessel"></div>
        <div class="col-md-3"><input class="form-control" id="av-principal" placeholder="Principal"></div>
        <div class="col-md-3"><input class="form-control" id="av-port" placeholder="Port"></div>
        <div class="col-md-3"><input class="form-control" id="av-crew" placeholder="No. of Crew"></div>
        <div class="col-md-3"><input class="form-control" id="av-rank" placeholder="Rank"></div>
        <div class="col-md-3"><input type="date" class="form-control" id="av-date"></div>
        <div class="col-md-3"><input class="form-control" id="av-flight" placeholder="Flight"></div>
        <div class="col-md-3"><button class="btn btn-success w-100" onclick="addArrivals()">ADD</button></div>
      </div>
    </div>
    <div id="crew-arrivals-data">Loading...</div>
  </div>

  <!-- DAILY UPDATES -->
  <div id="daily-updates" class="tab-window" style="display:none;">
    <h4>Daily Updates</h4>
    <div class="form-box mb-3">
      <h6>Add Update</h6>
      <div class="row g-2">
        <div class="col-md-4"><input class="form-control" id="up-title" placeholder="Title"></div>
        <div class="col-md-5"><input class="form-control" id="up-details" placeholder="Details"></div>
        <div class="col-md-2"><input type="date" class="form-control" id="up-date"></div>
        <div class="col-md-1"><button class="btn btn-success w-100" onclick="addUpdate()">ADD</button></div>
      </div>
    </div>
    <div id="daily-updates-data">Loading...</div>
  </div>

  <!-- MEMO -->
  <div id="memo" class="tab-window" style="display:none;">
    <h4>Memo</h4>
    <div class="form-box mb-3">
      <h6>Add Memo</h6>
      <div class="row g-2">
        <div class="col-md-4"><input class="form-control" id="memo-title" placeholder="Title"></div>
        <div class="col-md-6"><input class="form-control" id="memo-details" placeholder="Details"></div>
        <div class="col-md-2"><input type="date" class="form-control" id="memo-date"></div>
        <div class="col-md-12 mt-2"><button class="btn btn-success" onclick="addMemo()">ADD</button></div>
      </div>
    </div>
    <div id="memo-data">Loading...</div>
  </div>

  <!-- TRAINING -->
  <div id="training" class="tab-window" style="display:none;">
    <h4>Training</h4>
    <div class="form-box mb-3">
      <h6>Add Training</h6>
      <div class="row g-2">
        <div class="col-md-4"><input class="form-control" id="tr-subject" placeholder="Subject"></div>
        <div class="col-md-6"><input class="form-control" id="tr-details" placeholder="Details"></div>
        <div class="col-md-2"><button class="btn btn-success w-100" onclick="addTraining()">ADD</button></div>
      </div>
    </div>
    <div id="training-data">Loading...</div>
  </div>

  <!-- PNI -->
  <div id="pni" class="tab-window" style="display:none;">
    <h4>P& I / Events</h4>
    <div class="form-box mb-3">
      <h6>Add P&I / Event</h6>
      <div class="row g-2">
        <div class="col-md-4"><input class="form-control" id="pn-subject" placeholder="Subject"></div>
        <div class="col-md-6"><input class="form-control" id="pn-details" placeholder="Details"></div>
        <div class="col-md-2"><button class="btn btn-success w-100" onclick="addPni()">ADD</button></div>
      </div>
    </div>
    <div id="pni-data">Loading...</div>
  </div>

  <!-- CHAT -->
  <div id="chat" class="tab-window" style="display:none;">
    <h4>Chatboard</h4>
    <div id="chatboard">Loading chat...</div>
    <input id="chat-input" class="form-control mt-2" placeholder="Type a message...">
    <button class="btn btn-primary mt-2" onclick="sendMessage()">Send</button>
  </div>

</div>

<!-- Sticky note -->
<div id="sticky-note">
  <h6>My Note</h6>
  <textarea id="sticky-text"></textarea>
</div>

<!-- App JS -->
<script src="js/app.js"></script>
</body>
</html>
