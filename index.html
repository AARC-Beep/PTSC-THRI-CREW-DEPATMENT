<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PTSC/THRI Crew Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
<style>
body{margin:0;font-family:Arial,sans-serif;}
.sidebar{width:220px;background:#001f4d;color:yellow;position:fixed;top:0;bottom:0;padding-top:20px;}
.sidebar a{display:block;color:yellow;text-decoration:none;padding:10px 20px;}
.sidebar a:hover{background:#003366;}
.main{margin-left:220px;padding:20px;background:#f5faff;min-height:100vh;}
.card{margin-bottom:10px;}
.modal-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:flex;justify-content:center;align-items:center;z-index:9999;}
.modal-box{background:white;padding:20px;border-radius:8px;width:400px;max-height:90%;overflow:auto;}
.message{padding:4px 0;border-bottom:1px solid #eee;}
#sticky-text{width:100%;height:80px;}
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
  <h5 class="text-center mb-4">PTSC/THRI Crew Department</h5>
  <a href="#" data-tab="dashboard">Dashboard</a>
  <a href="#" data-tab="crew-join">Crew Joining</a>
  <a href="#" data-tab="crew-arrivals">Crew Arrivals</a>
  <a href="#" data-tab="daily-updates">Daily Updates</a>
  <a href="#" data-tab="memo">Memo</a>
  <a href="#" data-tab="training">Training</a>
  <a href="#" data-tab="pni">P&I / Events</a>
  <a href="#" data-tab="chat">Chatboard</a>
  <hr style="border-color:#003366;">
  <a href="https://www.flightaware.com" target="_blank">FlightAware</a>
  <a href="https://www.msn.com/en-ph/news" target="_blank">MSN News Philippines</a>
  <a href="https://zoom.earth" target="_blank">Zoom Earth</a>
  <a href="https://marina.gov.ph" target="_blank">MARINA</a>
  <a href="https://dmw.gov.ph" target="_blank">DMW</a>
  <a href="https://owwa.gov.ph" target="_blank">OWWA</a>
</div>

<!-- Main content -->
<div class="main">
  <!-- Dashboard -->
  <div id="dashboard" class="tab-window">
    <h3>Dashboard Overview</h3>
    <div class="row">
      <div class="col-md-4"><div class="card" id="dash-join"><div class="card-body">Loading...</div></div></div>
      <div class="col-md-4"><div class="card" id="dash-arrivals"><div class="card-body">Loading...</div></div></div>
      <div class="col-md-4"><div class="card" id="dash-updates"><div class="card-body">Loading...</div></div></div>
      <div class="col-md-4"><div class="card" id="dash-memo"><div class="card-body">Loading...</div></div></div>
      <div class="col-md-4"><div class="card" id="dash-training"><div class="card-body">Loading...</div></div></div>
      <div class="col-md-4"><div class="card" id="dash-pni"><div class="card-body">Loading...</div></div></div>
    </div>
  </div>

  <!-- Crew Joining -->
  <div id="crew-join" class="tab-window" style="display:none;">
    <h3>Crew Joining</h3>
    <div id="crew-join-data">Loading table...</div>
  </div>

  <!-- Crew Arrivals -->
  <div id="crew-arrivals" class="tab-window" style="display:none;">
    <h3>Crew Arrivals</h3>
    <div id="crew-arrivals-data">Loading table...</div>
  </div>

  <!-- Daily Updates -->
  <div id="daily-updates" class="tab-window" style="display:none;">
    <h3>Daily Updates</h3>
    <div id="daily-updates-data">Loading table...</div>
  </div>

  <!-- Memo -->
  <div id="memo" class="tab-window" style="display:none;">
    <h3>Memo</h3>
    <div id="memo-data">Loading table...</div>
  </div>

  <!-- Training -->
  <div id="training" class="tab-window" style="display:none;">
    <h3>Training</h3>
    <div id="training-data">Loading table...</div>
  </div>

  <!-- P&I / Events -->
  <div id="pni" class="tab-window" style="display:none;">
    <h3>P&I / Events</h3>
    <div id="pni-data">Loading table...</div>
  </div>

  <!-- Chatboard -->
  <div id="chat" class="tab-window" style="display:none;">
    <h3>Chatboard</h3>
    <div id="chatboard" style="border:1px solid #ccc;padding:10px;height:300px;overflow-y:auto;margin-bottom:10px;"></div>
    <div class="d-flex gap-2">
      <input type="text" id="chat-input" class="form-control" placeholder="Type a message...">
      <button class="btn btn-primary" onclick="sendMessage()">Send</button>
    </div>
  </div>

  <!-- Sticky Note -->
  <div class="mt-4">
    <h5>Sticky Note (Private)</h5>
    <textarea id="sticky-text"></textarea>
  </div>
</div>

<!-- Login Overlay -->
<div id="login-overlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); display:flex; justify-content:center; align-items:center; z-index:9999;">
    <div style="background:white; padding:30px; border-radius:8px; width:300px; text-align:center;">
        <h4>PTSC/THRI Login</h4>
        <input type="text" id="login-username" placeholder="Username" class="form-control mb-2">
        <input type="password" id="login-password" placeholder="Password" class="form-control mb-2">
        <button class="btn btn-primary w-100" onclick="loginUser()">Login</button>
        <div id="login-error" style="color:red; margin-top:10px;"></div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
